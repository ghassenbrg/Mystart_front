<div class="content-page-wrap">
  <div class="flat-events style1">
      <br><br><hr>
      <div nz-row nzType="flex" nzJustify="center" class="filter">
        <div nz-col zSpan="4">
            <h3>Filter: </h3>
           
        </div>
        <div class="mySpace"></div>
        <div nz-col zSpan="4">
          <input type="text" class="myInput" placeholder="input search keywords" [(ngModel)]="filter.keywords" (input)="filterResult()"/>
        </div>
        <div class="mySpace"></div>
        <div nz-col zSpan="4">
            <nz-select style="width: 140px;" nzShowSearch nzAllowClear nzSize="large" nzPlaceHolder="City" [(ngModel)]="filter.city" (ngModelChange)="filterResult()">
              <nz-option *ngFor="let city of location['TN']" nzLabel="{{city}}" nzValue="{{city}}" ></nz-option>
            </nz-select> <!-- City --> 
        </div>
        <div class="mySpace"></div>
        <div nz-col zSpan="4">
          <nz-radio-group [(ngModel)]="filter.price" [nzButtonStyle]="'solid'" nzSize="large">
            <label nz-radio-button nzValue="All" (click)="filterResult()">All</label>
            <label nz-radio-button nzValue="Free" (click)="filterResult()">Free</label>
            <label nz-radio-button nzValue="Paid" (click)="filterResult()">Paid</label>
          </nz-radio-group>
        </div>
        <div class="mySpace"></div>
        <div nz-col zSpan="4">
            <nz-select style="width: 150px;" nzShowSearch nzAllowClear nzSize="large" nzPlaceHolder="Time" [(ngModel)]="filter.time" (ngModelChange)="filterResult()">
              <nz-option nzLabel="Any time" nzValue="Any time" ></nz-option>
              <nz-option nzLabel="Today" nzValue="Today" ></nz-option>
              <nz-option nzLabel="This week" nzValue="This week" ></nz-option>
              <nz-option nzLabel="This month" nzValue="This month" ></nz-option>
              <nz-option nzLabel="Upcomming" nzValue="Upcomming" ></nz-option>
              <nz-option nzLabel="Left" nzValue="Left" ></nz-option>
            </nz-select> <!-- Time -->
        </div>
        <div class="mySpace"></div>
        <div nz-col zSpan="4">
                <button style="visibility: hidden;" nz-button nzType="danger" nzSize="large" *ngIf="isClear()" ><i class="fas fa-times"></i> Clear filter</button>
                <button nz-button nzType="danger" nzSize="large" (click)="clearFilter()" *ngIf="!isClear()" ><i class="fas fa-times"></i> Clear filter</button>
            </div>
      </div><hr> <!-- Filter -->
      <div nz-row nzType="flex" nzJustify="end">
            <div nz-col nzSpan="2" style="text-align: right; margin-right: 10px;"><p>Sort by: </p></div>
            <div nz-col nzSpan="2">
                <nz-select style="width: 100px;" nzShowSearch nzAllowClear nzPlaceHolder="Sort by" [(ngModel)]="sortBy.criteria" (ngModelChange)="filterResult()">
                    <nz-option nzLabel="Date" nzValue="Date"></nz-option>
                    <nz-option nzLabel="Price" nzValue="Price"></nz-option>
                </nz-select>
            </div><div class="mySpace"></div>
            <div nz-col nzspan="2">
                <nz-radio-group [(ngModel)]="sortBy.direction" [nzButtonStyle]="'solid'">
                    <label nz-radio-button nzValue="Asc" (click)="filterResult()"><i class="fas fa-sort-amount-up"></i></label>
                    <label nz-radio-button nzValue="Desc" (click)="filterResult()"><i class="fas fa-sort-amount-down"></i></label>
                </nz-radio-group>
            </div>
        </div><br> <!-- Sort By -->
      <div *ngFor="let event of events; index as i"> <!-- ************ for boucle begin ********************** -->
            <div class="event style1 v1" *ngIf="i%2 == 0" [@bounce]="bounce"> 
                    <div class="row">
                        <div class=" col-lg-7 col-md-12">
                            <div class="event-img">
                                <a href="#"><img src="../../../../assets/{{event.coverImg}}" alt="bookflare"></a>
                                <div class="meta-date flat-text-center">
                                    <span class="day">{{time.getDate(startTime[i])}}</span>
                                    <span class="month">{{time.getMonth(startTime[i]).toUpperCase()}}</span>
                                </div>
                            </div>
                        </div>
                        <div class=" col-lg-5 col-md-12">
                            <div class="event-content">
                                    <div class="meta-datetime">
                                            <ul class="list">
                                                <li><a href="#"> {{time.getDay(startTime[i])}} </a></li>
                                                <li><a href="#"> {{time.getMonth(startTime[i])}} {{startTime[i].getDate()}} </a></li>
                                                <li><a href="#"> {{time.getHours(startTime[i])}} : {{time.getMinutes(startTime[i])}} </a></li> 
                                                <li><a href="#"> {{event.location}}</a></li> 
                                            </ul>
                                        </div>
          
                                <div class="content">
                                    <h3 class="title"><a href="event/{{event._id}}">{{event.title}}</a></h3>
                                    <p class="description">{{event.description}}</p>                                
                                </div>
          
                                <div class="author clearfix">
                                    <div class="author-avata">
                                        <img src="../../../../assets/{{event.organizerPic}}" alt="bookflare">
                                    </div> 
                                    <div class="author-info">
                                        <h4 class="name">Organized By {{event.organizerName}}</h4>
                                        <p class="text">{{event.organizerPosition}}</p>
                                    </div> 
                                </div>
                            </div>
                        </div>
                    </div>
                </div>  <!-- first event style 1-->

                <div class="event style1 v2" *ngIf="i%2 != 0" [@bounce]="bounce">
                        <div class="row">
                            <div class=" col-lg-5 col-md-12">
                                <div class="event-content">
                                        <div class="meta-datetime">
                                                <ul class="list">
                                                    <li><a href="#"> {{time.getDay(startTime[i])}} </a></li>
                                                    <li><a href="#"> {{time.getMonth(startTime[i])}} {{startTime[i].getDate()}} </a></li>
                                                    <li><a href="#"> {{time.getHours(startTime[i])}} : {{time.getMinutes(startTime[i])}} </a></li> 
                                                    <li><a href="#"> {{event.location}}</a></li>
                                                </ul>
                                            </div>
              
                                    <div class="content">
                                        <h3 class="title"><a href="event/{{event._id}}">{{event.title}}</a></h3>
                                        <p class="description">{{event.description}}</p>
                                    </div>
              
                                    <div class="author clearfix">
                                        <div class="author-avata">
                                            <img src="../../../../assets/{{event.organizerPic}}" alt="bookflare">
                                        </div> 
                                        <div class="author-info">
                                                <h4 class="name">Organized By {{event.organizerName}}</h4>
                                                <p class="text">{{event.organizerPosition}}</p>
                                            </div> 
                                    </div>
                                </div>
                            </div>
                            <div class=" col-lg-7 col-md-12">
                                <div class="event-img">
                                    <a href="#"><img src="../../../../assets/{{event.coverImg}}" alt="bookflare"></a>
                                    <div class="meta-date flat-text-center">
                                        <span class="day">{{time.getDate(startTime[i])}}</span>
                                        <span class="month">{{time.getMonth(startTime[i]).toUpperCase()}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- second event style 2-->
      </div> <!-- ************ for boucle end ********************** -->
      <div class="load-more" *ngIf="!((pagination.cuurentPage * pagination.pageSize) >= pagination.itemSize)">
        <nz-spin nzSimple [nzSize]="'large'" [hidden]="!loading"></nz-spin>
        <button nz-button nzType="primary" nzSize="large" (click)=loadNewData() [hidden]="loading">Load more</button>
    </div>
  </div> <!-- /.flat-events **********************************************************   -->